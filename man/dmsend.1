.\" Automatically generated by Pandoc 3.8.3
.\"
.TH "DMSEND" "1" "" "Version 2.0.0" "User Commands"
.SH NAME
dmsend \(en sends observations and logs to POSIX message queues
.SH SYNOPSIS
\f[B]dmsend\f[R] \-\-help
.PP
\f[B]dmsend\f[R] \-\-version
.PP
\f[B]dmsend\f[R] \-\-\f[B]type\f[R] [log|observ] \-\-\f[B]format\f[R]
[csv|nml] \-\-\f[B]input\f[R] \f[I]file\f[R] [\-\-\f[B]receiver\f[R]
\f[I]name\f[R]] [\-\-\f[B]name\f[R] \f[I]name\f[R]] [\-\-\f[B]node\f[R]
\f[I]id\f[R]] [\-\-\f[B]logger\f[R] \f[I]name\f[R]]
[\-\-\f[B]debug\f[R]] [\-\-\f[B]forward\f[R]] [\-\-\f[B]verbose\f[R]]
.PP
\f[B]dmsend\f[R] \-\-\f[B]config\f[R] \f[I]file\f[R] [\-\-\f[B]name\f[R]
\f[I]name\f[R]]
.SH DESCRIPTION
The \f[B]dmsend\f[R] program reads observations or logs in CSV or
Fortran 95 Namelist format, and sends them sequentially to the POSIX
message queue of the given receiver.
The data is either read from file or from standard input.
If the input data is of type \f[CR]observ\f[R] and the argument
\f[CR]\-\-forward\f[R] is passed, each observation will be sent to its
next specified receiver in the receivers list.
If no receivers are declared, or if the end of the receivers list is
reached, the observation will not be forwarded.
.PP
The program settings are passed through command\-line arguments or an
optional configuration file.
The arguments overwrite settings from file.
.SH OPTIONS
.TP
\f[B]\-\-config\f[R], \f[B]\-c\f[R] \f[I]file\f[R]
Path to configuration file.
.TP
\f[B]\-\-debug\f[R], \f[B]\-D\f[R]
Forward logs messages of level \f[CR]LL_DEBUG\f[R] via IPC (if logger is
set).
.TP
\f[B]\-\-format\f[R], \f[B]\-f\f[R] [csv|nml]
Input format, either CSV or Fortran 95 Namelist.
.TP
\f[B]\-\-forward\f[R], \f[B]\-F\f[R]
Forward observations to the next specified receiver in the receivers
list.
Not allowed in combination with argument \f[CR]\-\-receiver\f[R].
.TP
\f[B]\-\-logger\f[R], \f[B]\-l\f[R] \f[I]name\f[R]
Name of logger.
If set, sends logs to \f[I]dmlogger(1)\f[R] process of given name.
.TP
\f[B]\-\-help\f[R], \f[B]\-h\f[R]
Print available command\-line arguments and quit.
.TP
\f[B]\-\-input\f[R], \f[B]\-i\f[R]
Path to input file, either in CSV or Namelist format.
Reads records from \f[I]stdin\f[R] if not passed or set to
\f[CR]\-\f[R].
.TP
\f[B]\-\-name\f[R], \f[B]\-n\f[R] \f[I]name\f[R]
Name of program instance and configuration (default is
\f[CR]dmsend\f[R]).
.TP
\f[B]\-\-node\f[R], \f[B]\-N\f[R] \f[I]id\f[R]
Optional node id.
.TP
\f[B]\-\-receiver\f[R], \f[B]\-r\f[R] \f[I]name\f[R]
Name of the observation or log receiver, without leading \f[CR]/\f[R].
Not allowed in combination with argument \f[CR]\-\-forward\f[R].
.TP
\f[B]\-\-type\f[R], \f[B]\-t\f[R] [log|observ]
Data type to send, either log or observation.
.TP
\f[B]\-\-verbose\f[R], \f[B]\-V\f[R]
Print log messages to \f[I]stderr\f[R].
.TP
\f[B]\-\-version\f[R], \f[B]\-v\f[R]
Print version information and quit.
.SH EXIT STATUS
.TP
\f[B]0\f[R]
Success.
Program terminated normally.
.TP
\f[B]1\f[R]
Failure.
Program execution failed.
.SH ENVIRONMENT
.TP
\f[B]DM_LOGGER\f[R]
Name of logger instance to send logs to.
.TP
\f[B]NO_COLOR\f[R]
Disable ANSI colour output.
.SH EXAMPLE
Read observation from Namelist file \f[CR]observ.nml\f[R] and send it to
the next specified receiver:
.IP
.EX
$ dmsend \-t observ \-f nml \-i observ.nml \-F
.EE
.PP
Send logs in CSV file \f[CR]logs.csv\f[R] sequentially to process
\f[CR]dmrecv\f[R]:
.IP
.EX
$ dmsend \-r dmrecv \-t log \-f csv \-i logs.csv
.EE
.SH SEE ALSO
\f[I]dmrecv(1)\f[R]
