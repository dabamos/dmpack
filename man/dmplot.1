.\" Automatically generated by Pandoc 3.8.3
.\"
.TH "DMPLOT" "1" "" "Version 2.0.0" "User Commands"
.SH NAME
dmplot \(en creates plots from observations in database
.SH SYNOPSIS
\f[B]dmplot\f[R] \-\-help
.PP
\f[B]dmplot\f[R] \-\-version
.PP
\f[B]dmplot\f[R] \-\-\f[B]database\f[R] \f[I]file\f[R]
\-\-\f[B]node\f[R] \f[I]id\f[R] \-\-\f[B]sensor\f[R] \f[I]id\f[R]
\-\-\f[B]target\f[R] \f[I]id\f[R] \-\-\f[B]response\f[R] \f[I]name\f[R]
\-\-\f[B]from\f[R] \f[I]timestamp\f[R] \-\-\f[B]to\f[R]
\f[I]timestamp\f[R] \-\-\f[B]terminal\f[R] \f[I]terminal\f[R]
[\-\-\f[B]output\f[R] \f[I]file\f[R]] [\-\-\f[B]background\f[R]
\f[I]color\f[R]] [\-\-\f[B]foreground\f[R] \f[I]color\f[R]]
[\-\-\f[B]font\f[R] \f[I]name\f[R]] [\-\-\f[B]title\f[R]
\f[I]title\f[R]] [\-\-\f[B]width\f[R] \f[I]n\f[R]]
.PP
\f[B]dmplot\f[R] \-\-\f[B]config\f[R] \f[I]file\f[R] [\-\-\f[B]name\f[R]
\f[I]name\f[R]]
.SH DESCRIPTION
The \f[B]dmplot\f[R] program is a front\-end to \f[I]gnuplot(1)\f[R]
that creates plots of observations read from database.
Plots are either written to file or displayed in terminal or X11 window.
.PP
Depending on the selected terminal backend, you may have to set the
environment variable \f[CR]GDFONTPATH\f[R] to the local font directory
first:
.IP
.EX
$ export GDFONTPATH=/usr/local/share/fonts/webfonts/
.EE
.PP
Plotting parameters passed via command\-line have priority over those
from configuration file.
.SH OPTIONS
.TP
\f[B]\-\-background\f[R], \f[B]\-G\f[R] \f[I]color\f[R]
Optional background color of the plot (for example, \f[CR]#ff0000\f[R]
or \f[CR]red\f[R]).
.TP
\f[B]\-\-config\f[R], \f[B]\-c\f[R] \f[I]file\f[R]
File path to the configuration file.
.TP
\f[B]\-\-database\f[R], \f[B]\-d\f[R] \f[I]file\f[R]
File path to the SQLite observation database.
.TP
\f[B]\-\-font\f[R], \f[B]\-A\f[R] \f[I]name\f[R]
Optional font name (for example, \f[CR]Open\f[R] \f[CR]Sans\f[R],
\f[CR]arial.ttf\f[R], or \f[CR]monospace\f[R]).
.TP
\f[B]\-\-foreground\f[R], \f[B]\-P\f[R] \f[I]color\f[R]
Optional foreground color of the plot (for example, \f[CR]#ffffff\f[R]
or \f[CR]white\f[R]).
.TP
\f[B]\-\-from\f[R], \f[B]\-B\f[R] \f[I]timestamp\f[R]
Start of time range in ISO 8601.
.TP
\f[B]\-\-height\f[R], \f[B]\-H\f[R] \f[I]n\f[R]
Optional plot height in pixels.
.TP
\f[B]\-\-help\f[R], \f[B]\-h\f[R]
Print available command\-line arguments and quit.
.TP
\f[B]\-\-name\f[R], \f[B]\-n\f[R] \f[I]name\f[R]
Name of program instance and configuration (default is
\f[CR]dmplot\f[R]).
.TP
\f[B]\-\-node\f[R], \f[B]\-N\f[R] \f[I]id\f[R]
Node id.
.TP
\f[B]\-\-output\f[R], \f[B]\-o\f[R] \f[I]file\f[R]
File path of the output image.
Required for the terminals \f[CR]gif\f[R], \f[CR]png\f[R], and
\f[CR]pngcairo\f[R].
Additional format descriptors are replaced with their values to set date
and time dynamically (\f[CR]%Y\f[R], \f[CR]%M\f[R], \f[CR]%D\f[R],
\f[CR]%h\f[R], \f[CR]%m\f[R], \f[CR]%s\f[R]).
.TP
\f[B]\-\-response\f[R], \f[B]\-R\f[R] \f[I]name\f[R]
Response name.
.TP
\f[B]\-\-sensor\f[R], \f[B]\-S\f[R] \f[I]id\f[R]
Sensor id.
.TP
\f[B]\-\-target\f[R], \f[B]\-T\f[R] \f[I]id\f[R]
Target id.
.TP
\f[B]\-\-terminal\f[R], \f[B]\-m\f[R] [ansi|ascii|gif|gpic|png|pngcairo|postscript|sixelgd|sixeltek|svg|x11]
Output terminal, either ANSI, ASCII, GIF, GPIC (troff), PNG, PNG
(libcairo), PostScript (EPS), Sixel (libgd), Sixel (bitmap), SVG, or
X11.
The terminal must be supported by \f[I]gnuplot(1)\f[R].
.TP
\f[B]\-\-title\f[R], \f[B]\-C\f[R] \f[I]title\f[R]
Plot title.
.TP
\f[B]\-\-to\f[R], \f[B]\-E\f[R] \f[I]timestamp\f[R]
End of time range in ISO 8601.
.TP
\f[B]\-\-version\f[R], \f[B]\-v\f[R]
Print version information and quit.
.TP
\f[B]\-\-width\f[R], \f[B]\-W\f[R] \f[I]n\f[R]
Optional plot width in pixels.
.SH EXIT STATUS
.TP
\f[B]0\f[R]
Success.
Plot has been created.
.TP
\f[B]1\f[R]
Failure.
Plot creation failed.
.SH EXAMPLE
Create a plot of observations selected from database
\f[CR]observ.db\f[R] in PNG terminal, and write the file to
\f[CR]/tmp/plot.png\f[R]:
.IP
.EX
$ dmplot \-N dummy\-node \-S dummy\-sensor \-T dummy\-target \(rs
  \-R dummy \-B 2020 \-E 2021 \-database observ.db \(rs
  \-m pngcairo \-o /tmp/plot.png
.EE
.PP
Output the plot directly to terminal, with the configuration loaded from
file:
.IP
.EX
$ dmplot \-n dmplot \-c dmplot.conf \-m sixelgd
.EE
.PP
Output in \f[CR]sixelgd\f[R] format requires a terminal emulator with
Sixel support.
