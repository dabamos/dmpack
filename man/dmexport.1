.TH "DMEXPORT" "1" "" "Version 2.0.0" "User Commands"
.SH NAME
dmexport \(en exports records from database to file
.SH SYNOPSIS
\f[B]dmexport\f[R] \-\-help
.PP
\f[B]dmexport\f[R] \-\-version
.PP
\f[B]dmexport\f[R] \-\-\f[B]database\f[R] \f[I]file\f[R]
\-\-\f[B]type\f[R] \f[I]type\f[R] \-\-\f[B]format\f[R] \f[I]format\f[R]
\-\-\f[B]node\f[R] \f[I]id\f[R] [\-\-\f[B]output\f[R] \f[I]file\f[R]]
[\-\-\f[B]sensor\f[R] \f[I]id\f[R]] [\-\-\f[B]target\f[R] \f[I]id\f[R]]
[\-\-\f[B]response\f[R] \f[I]name\f[R]] [\-\-\f[B]from\f[R]
\f[I]timestamp\f[R]] [\-\-\f[B]to\f[R] \f[I]timestamp\f[R]]
[\-\-\f[B]header\f[R]]
.SH DESCRIPTION
The \f[B]dmexport\f[R] program writes logs, nodes, sensors, targets, and
observations from database to file, in ASCII block, CSV, JSON, JSON
Lines, Fortran 95 Namelist format.
The ASCII block data format is only available for X/Y data points.
.PP
The types data point, log, and observation require a given sensor id,
target id, and time range in ISO 8601 format.
.PP
If no output file is given, the data is printed to standard output.
The output file will be overwritten if it already exists.
If no records are found, an empty file will be created.
.SH OPTIONS
.TP
\f[B]\-\-database\f[R], \f[B]\-d\f[R] \f[I]file\f[R]
Path of the SQLite database (required).
.TP
\f[B]\-\-format\f[R], \f[B]\-f\f[R] [block|csv|json|jsonl|nml|tsv]
Output file format, either ASCII block, CSV, JSON, JSON Lines, NML, or
TSV (required).
Only data points can be exported in block format.
.TP
\f[B]\-\-from\f[R], \f[B]\-B\f[R] \f[I]timestamp\f[R]
Start of time range in ISO 8601 (required for types \f[CR]db\f[R],
\f[CR]log\f[R], \f[CR]observ\f[R]).
.TP
\f[B]\-\-header\f[R], \f[B]\-H\f[R]
Enable CSV/TSV header.
.TP
\f[B]\-\-help\f[R], \f[B]\-h\f[R]
Print available command\-line arguments and quit.
.TP
\f[B]\-\-node\f[R], \f[B]\-N\f[R] \f[I]id\f[R]
Node id (required).
.TP
\f[B]\-\-output\f[R], \f[B]\-o\f[R] \f[I]file\f[R]
Path of output file.
Empty or \f[CR]\-\f[R] for standard output.
.TP
\f[B]\-\-response\f[R], \f[B]\-R\f[R] \f[I]name\f[R]
Response name (required for type \f[CR]dp\f[R]).
.TP
\f[B]\-\-sensor\f[R], \f[B]\-S\f[R] \f[I]id\f[R]
Sensor id (required for types \f[CR]dp\f[R] and \f[CR]observ\f[R]).
.TP
\f[B]\-\-separator\f[R], \f[B]\-s\f[R] \f[I]char\f[R]
Single character used as separator instead of comma.
.TP
\f[B]\-\-target\f[R], \f[B]\-T\f[R] \f[I]id\f[R]
Target id (required for type \f[CR]dp\f[R] and \f[CR]observ\f[R]).
.TP
\f[B]\-\-to\f[R], \f[B]\-E\f[R] \f[I]timestamp\f[R]
End of time range in ISO 8601 (required for types \f[CR]dp\f[R],
\f[CR]log\f[R], and \f[CR]observ\f[R]).
.TP
\f[B]\-\-type\f[R], \f[B]\-t\f[R] [beat|dp|log|node|observ|sensor|target]
Type of records to export (required).
.TP
\f[B]\-\-version\f[R], \f[B]\-v\f[R]
Print version information and quit.
.SH EXIT STATUS
.TP
\f[B]0\f[R]
Success.
Records have been exported.
.TP
\f[B]1\f[R]
Failure.
Export of records failed.
.SH EXAMPLE
Export log messages from database to JSON file:
.IP
.EX
$ dmexport \-d log.db \-t log \-f json \-N dummy\-node \(rs
  \-B 2020\-01\-01 \-E 2025\-01\-01 \-o /tmp/log.json
.EE
.PP
Export observations from database to CSV file:
.IP
.EX
$ dmexport \-d observ.db \-t observ \-f csv \-N dummy\-node \(rs
  \-S dummy\-sensor \-T dummy\-target \-B 2020\-01\-01 \-E 2025\-01\-01 \(rs
  \-o /tmp/observ.csv
.EE
.SH SEE ALSO
\f[I]dmimport(1)\f[R]
